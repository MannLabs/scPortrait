<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pipeline &mdash; scPortrait  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/fonts.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ml" href="ml.html" />
    <link rel="prev" title="processing" href="processing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            scPortrait
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">scPortrait Ecosystem</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart/computational_workflow.html">scPortrait workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../quickstart/computational_workflow.html#segmentation">Segmentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickstart/computational_workflow.html#extraction">Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickstart/computational_workflow.html#classification">Classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickstart/computational_workflow.html#selection">Selection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/example_scPortrait_project.html">A walk through the scPortrait Ecosystem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Import-Required-Libraries">Import Required Libraries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Generate-the-Project-Structure">Generate the Project Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Load-Imaging-Data">Load Imaging Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Method-1:-loading-images-from-file">Method 1: loading images from file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Method-2:-loading-images-from-numpy-array">Method 2: loading images from numpy array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Looking-at-the-loaded-images">Looking at the loaded images</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Generating-a-Segmentation">Generating a Segmentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Looking-at-Segmentation-Results">Looking at Segmentation Results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Extracting-single-cell-images">Extracting single-cell images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Look-at-extracted-single-cell-images">Look at extracted single-cell images</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Classification-of-extracted-single-cells">Classification of extracted single-cells</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#looking-at-the-generated-results">looking at the generated results</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Exporting-Cutting-contours-for-excision-on-the-LMD7">Exporting Cutting contours for excision on the LMD7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pipeline.html">scPortrait Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/project.html">scPortrait Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/project.html#project-classes">Project classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/project.html#project">1. Project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/project.html#timecourseproject">2. TimecourseProject</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/project.html#initializing-a-scportrait-project">Initializing a scPortrait Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/project.html#loading-images-into-a-scportrait-project">Loading Images into a scPortrait project</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/config.html">Config Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/segmentation.html">Segmentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/segmentation.html#segmentation-classes">Segmentation classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#id2">1. Segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#shardedsegmentation">2. ShardedSegmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#timecoursesegmentation">3. TimecourseSegmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#multithreadedsegmentation">4. MultithreadedSegmentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/segmentation.html#segmentation-workflows">Segmentation Workflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#wga-segmentation">WGA segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#dapi-segmentation">DAPI segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#cytosol-cellpose-segmentation">Cytosol Cellpose segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipeline/segmentation.html#dapi-cellpose-segmentation">DAPI Cellpose segmentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/extraction.html">Extraction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/extraction.html#extraction-classes">Extraction classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pipeline/extraction.html#single-cell-image-datasets">Single-cell image datasets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/classification.html">Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/selection.html">Selection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../example_notebooks.html">Example Notebooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../example_notebooks.html#basic-scportrait-project">Basic scPortrait Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_scPortrait_project.html">A walk through the scPortrait Ecosystem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Import-Required-Libraries">Import Required Libraries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Generate-the-Project-Structure">Generate the Project Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Load-Imaging-Data">Load Imaging Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Generating-a-Segmentation">Generating a Segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Extracting-single-cell-images">Extracting single-cell images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Classification-of-extracted-single-cells">Classification of extracted single-cells</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_scPortrait_project.html#Exporting-Cutting-contours-for-excision-on-the-LMD7">Exporting Cutting contours for excision on the LMD7</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../example_notebooks.html#timecourse-scportrait-project">Timecourse scPortrait Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html">Example Notebook Running scPortrait on datasets with multiple images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html#Some-Helper-Functions-for-visualization-of-results">Some Helper Functions for visualization of results</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html#Initialize-a-Project">Initialize a Project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html#Input-Data-Format">Input Data Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html#Example-Load-data-using-the-from-files-function">Example Load data using the from files function</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html#Segmentation">Segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/Example_Notebook_TimeCourse_Project.html#Single-Cell-Extraction">Single-Cell Extraction</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../example_notebooks.html#segmentation-workflows">Segmentation Workflows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../notebooks/example_notebook_segmentation_workflows.html">Example Notebook showcasing the different segmentation workflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_notebook_segmentation_workflows.html#WGA-Segmentation">WGA Segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_notebook_segmentation_workflows.html#DAPI-Segmentation">DAPI Segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_notebook_segmentation_workflows.html#Cytosol-Segmentation-Cellpose">Cytosol Segmentation Cellpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="../notebooks/example_notebook_segmentation_workflows.html#DAPI-Segmentation-Cellpose">DAPI Segmentation Cellpose</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Module API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../sparcscmd.html">Command Line Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sparcscmd/sparcs_split.html">sparcs-split</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_split.html#positional-arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_split.html#named-arguments">Named Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_split.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sparcscmd/sparcs_stat.html">sparcs-stat</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_stat.html#positional-arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_stat.html#named-arguments">Named Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_stat.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../sparcscmd/sparcs_cleanup.html">sparcs-cleanup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_cleanup.html#positional-arguments">Positional Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_cleanup.html#named-arguments">Named Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sparcscmd/sparcs_cleanup.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../module.html">Module Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="processing.html">processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="processing.html#module-scportrait.processing.utils">utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.utils.plot_image"><code class="docutils literal notranslate"><span class="pre">plot_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.utils.visualize_class"><code class="docutils literal notranslate"><span class="pre">visualize_class()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.utils.download_testimage"><code class="docutils literal notranslate"><span class="pre">download_testimage()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.utils.flatten"><code class="docutils literal notranslate"><span class="pre">flatten()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="processing.html#module-scportrait.processing.preprocessing">preprocessing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.percentile_normalization"><code class="docutils literal notranslate"><span class="pre">percentile_normalization()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.downsample_img"><code class="docutils literal notranslate"><span class="pre">downsample_img()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.downsample_img_pxs"><code class="docutils literal notranslate"><span class="pre">downsample_img_pxs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.rolling_window_mean"><code class="docutils literal notranslate"><span class="pre">rolling_window_mean()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.origins_from_distance"><code class="docutils literal notranslate"><span class="pre">origins_from_distance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.MinMax"><code class="docutils literal notranslate"><span class="pre">MinMax()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.EDF"><code class="docutils literal notranslate"><span class="pre">EDF()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.preprocessing.maximum_intensity_projection"><code class="docutils literal notranslate"><span class="pre">maximum_intensity_projection()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="processing.html#module-scportrait.processing.segmentation">segmentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.global_otsu"><code class="docutils literal notranslate"><span class="pre">global_otsu()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.segment_global_threshold"><code class="docutils literal notranslate"><span class="pre">segment_global_threshold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.segment_local_threshold"><code class="docutils literal notranslate"><span class="pre">segment_local_threshold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.remove_edge_labels"><code class="docutils literal notranslate"><span class="pre">remove_edge_labels()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.shift_labels"><code class="docutils literal notranslate"><span class="pre">shift_labels()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.remove_classes"><code class="docutils literal notranslate"><span class="pre">remove_classes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.contact_filter_lambda"><code class="docutils literal notranslate"><span class="pre">contact_filter_lambda()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.contact_filter"><code class="docutils literal notranslate"><span class="pre">contact_filter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.size_filter"><code class="docutils literal notranslate"><span class="pre">size_filter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.numba_mask_centroid"><code class="docutils literal notranslate"><span class="pre">numba_mask_centroid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.sc_any"><code class="docutils literal notranslate"><span class="pre">sc_any()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.segmentation.sc_all"><code class="docutils literal notranslate"><span class="pre">sc_all()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="processing.html#module-scportrait.processing.filtering">filtering</a><ul>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.filtering.BaseFilter"><code class="docutils literal notranslate"><span class="pre">BaseFilter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.filtering.SizeFilter"><code class="docutils literal notranslate"><span class="pre">SizeFilter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="processing.html#scportrait.processing.filtering.MatchNucleusCytosolIds"><code class="docutils literal notranslate"><span class="pre">MatchNucleusCytosolIds</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base">base</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#logable">Logable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#processingstep">ProcessingStep</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#project">project</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Project</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timecourseproject">TimecourseProject</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#segmentation">segmentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">Segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shardedsegmentation">ShardedSegmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timecoursesegmentation">TimecourseSegmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multithreadedtimecoursesegmentation">MultithreadedTimecourseSegmentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-scportrait.pipeline.workflows">workflows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.WGASegmentation"><code class="docutils literal notranslate"><span class="pre">WGASegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.ShardedWGASegmentation"><code class="docutils literal notranslate"><span class="pre">ShardedWGASegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.DAPISegmentation"><code class="docutils literal notranslate"><span class="pre">DAPISegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.ShardedDAPISegmentation"><code class="docutils literal notranslate"><span class="pre">ShardedDAPISegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.DAPISegmentationCellpose"><code class="docutils literal notranslate"><span class="pre">DAPISegmentationCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.ShardedDAPISegmentationCellpose"><code class="docutils literal notranslate"><span class="pre">ShardedDAPISegmentationCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationCellpose"><code class="docutils literal notranslate"><span class="pre">CytosolSegmentationCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.ShardedCytosolSegmentationCellpose"><code class="docutils literal notranslate"><span class="pre">ShardedCytosolSegmentationCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose"><code class="docutils literal notranslate"><span class="pre">CytosolSegmentationDownsamplingCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.ShardedCytosolSegmentationDownsamplingCellpose"><code class="docutils literal notranslate"><span class="pre">ShardedCytosolSegmentationDownsamplingCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose"><code class="docutils literal notranslate"><span class="pre">CytosolOnlySegmentationCellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Sharded_CytosolOnly_Cellpose_Segmentation"><code class="docutils literal notranslate"><span class="pre">Sharded_CytosolOnly_Cellpose_Segmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnly_Segmentation_Downsampling_Cellpose"><code class="docutils literal notranslate"><span class="pre">CytosolOnly_Segmentation_Downsampling_Cellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose"><code class="docutils literal notranslate"><span class="pre">Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.WGA_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">WGA_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">Multithreaded_WGA_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">Cytosol_Cellpose_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">Cytosol_Cellpose_Downsampling_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">CytosolOnly_Cellpose_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">Multithreaded_Cytosol_Cellpose_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation"><code class="docutils literal notranslate"><span class="pre">Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#extraction">extraction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hdf5cellextraction">HDF5CellExtraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#timecoursehdf5cellextraction">TimecourseHDF5CellExtraction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#classification">classification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mlclusterclassifier">MLClusterClassifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cellfeaturizer">CellFeaturizer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#selection">selection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lmdselection">LMDSelection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ml.html">ml</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ml.html#module-scportrait.ml.datasets">datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDataset"><code class="docutils literal notranslate"><span class="pre">HDF5SingleCellDataset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDatasetRegression"><code class="docutils literal notranslate"><span class="pre">HDF5SingleCellDatasetRegression</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDatasetRegressionSubset"><code class="docutils literal notranslate"><span class="pre">HDF5SingleCellDatasetRegressionSubset</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ml.html#module-scportrait.ml.metrics">metrics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.metrics.precision"><code class="docutils literal notranslate"><span class="pre">precision()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.metrics.recall"><code class="docutils literal notranslate"><span class="pre">recall()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ml.html#models">models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.models.VGGBase"><code class="docutils literal notranslate"><span class="pre">VGGBase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.models.VGG1"><code class="docutils literal notranslate"><span class="pre">VGG1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.models.VGG2"><code class="docutils literal notranslate"><span class="pre">VGG2</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ml.html#plmodels">plmodels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.plmodels.MultilabelSupervisedModel"><code class="docutils literal notranslate"><span class="pre">MultilabelSupervisedModel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ml.html#module-scportrait.ml.pretrained_models">pretrained_models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.pretrained_models.autophagy_classifier1_0"><code class="docutils literal notranslate"><span class="pre">autophagy_classifier1_0()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.pretrained_models.autophagy_classifier2_0"><code class="docutils literal notranslate"><span class="pre">autophagy_classifier2_0()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.pretrained_models.autophagy_classifier2_1"><code class="docutils literal notranslate"><span class="pre">autophagy_classifier2_1()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ml.html#module-scportrait.ml.transforms">transforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.transforms.RandomRotation"><code class="docutils literal notranslate"><span class="pre">RandomRotation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.transforms.GaussianNoise"><code class="docutils literal notranslate"><span class="pre">GaussianNoise</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.transforms.GaussianBlur"><code class="docutils literal notranslate"><span class="pre">GaussianBlur</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.transforms.ChannelReducer"><code class="docutils literal notranslate"><span class="pre">ChannelReducer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.transforms.ChannelSelector"><code class="docutils literal notranslate"><span class="pre">ChannelSelector</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ml.html#module-scportrait.ml.utils">utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.utils.combine_datasets_balanced"><code class="docutils literal notranslate"><span class="pre">combine_datasets_balanced()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ml.html#scportrait.ml.utils.split_dataset_fractions"><code class="docutils literal notranslate"><span class="pre">split_dataset_fractions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utils.html#module-scportrait.utils.vis">vis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="utils.html#scportrait.utils.vis.plot_segmentation_mask"><code class="docutils literal notranslate"><span class="pre">plot_segmentation_mask()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">scPortrait</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../module.html">Module Documentation</a></li>
      <li class="breadcrumb-item active">pipeline</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/pages/module/pipeline.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pipeline">
<h1>pipeline<a class="headerlink" href="#pipeline" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<section id="base">
<h2>base<a class="headerlink" href="#base" title="Link to this heading"></a></h2>
<p>A collection of base classes from which other classes in the scPortrait environment can inherit that manage base functionalities like logging or directory creation.</p>
<section id="logable">
<h3>Logable<a class="headerlink" href="#logable" title="Link to this heading"></a></h3>
<p>Base Class which generates framework for logging.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.base.Logable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.base.</span></span><span class="sig-name descname"><span class="pre">Logable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.Logable" title="Link to this definition"></a></dt>
<dd><p>Object which can create log entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>debug</strong> (bool, default <code class="docutils literal notranslate"><span class="pre">False</span></code>) – When set to <code class="docutils literal notranslate"><span class="pre">True</span></code> log entries will be printed to the console.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.Logable.directory">
<span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#scportrait.pipeline.base.Logable.directory" title="Link to this definition"></a></dt>
<dd><p>A directory must be set in every descendant before log can be called.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.Logable.DEFAULT_LOG_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_LOG_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.base.Logable.DEFAULT_LOG_NAME" title="Link to this definition"></a></dt>
<dd><p>Default log file name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default <code class="docutils literal notranslate"><span class="pre">processing.log</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.Logable.DEFAULT_FORMAT">
<span class="sig-name descname"><span class="pre">DEFAULT_FORMAT</span></span><a class="headerlink" href="#scportrait.pipeline.base.Logable.DEFAULT_FORMAT" title="Link to this definition"></a></dt>
<dd><p>Date and time format used for logging. See <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.date.strftime">datetime.strftime</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.Logable.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.Logable.log" title="Link to this definition"></a></dt>
<dd><p>log a message</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<em>str</em><em>, </em><em>list</em><em>(</em><em>str</em><em>)</em><em>, </em><em>dict</em><em>(</em><em>str</em><em>)</em>) – Strings are s</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.Logable.get_timestamp">
<span class="sig-name descname"><span class="pre">get_timestamp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.Logable.get_timestamp" title="Link to this definition"></a></dt>
<dd><p>Get the current timestamp in the DEFAULT_FORMAT.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Formatted timestamp.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="processingstep">
<h3>ProcessingStep<a class="headerlink" href="#processingstep" title="Link to this heading"></a></h3>
<p>Starting point for all processing steps. Reads a config file that contains the parameters used to set up a processing method and generates the folder structure necessary for saving the generated outputs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.base.</span></span><span class="sig-name descname"><span class="pre">ProcessingStep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.base.Logable" title="scportrait.pipeline.base.Logable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logable</span></code></a></p>
<p>Processing step. Can load a configuration file and create a subdirectory under the project class for the processing step.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.config" title="Link to this definition"></a></dt>
<dd><p>Config file which is passed by the Project class when called. Is loaded from the project based on the name of the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.directory">
<span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.directory" title="Link to this definition"></a></dt>
<dd><p>Directory which should be used by the processing step. The directory will be newly created if it does not exist yet. When used with the <code class="xref py py-class docutils literal notranslate"><span class="pre">sparcscore.pipeline.project.Project</span></code> class, a subdirectory of the project directory is passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.intermediate_output">
<span class="sig-name descname"><span class="pre">intermediate_output</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.intermediate_output" title="Link to this definition"></a></dt>
<dd><p>When set to True intermediate outputs will be saved where applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, default <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.debug" title="Link to this definition"></a></dt>
<dd><p>When set to True debug outputs will be printed where applicable.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, default <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.overwrite">
<span class="sig-name descname"><span class="pre">overwrite</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.overwrite" title="Link to this definition"></a></dt>
<dd><p>When set to True, the processing step directory will be completely deleted and newly created when called.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, default <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.DEFAULT_IMAGE_DTYPE">
<span class="sig-name descname"><span class="pre">DEFAULT_IMAGE_DTYPE</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.DEFAULT_IMAGE_DTYPE" title="Link to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">uint16</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.DEFAULT_SINGLE_CELL_IMAGE_DTYPE">
<span class="sig-name descname"><span class="pre">DEFAULT_SINGLE_CELL_IMAGE_DTYPE</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.DEFAULT_SINGLE_CELL_IMAGE_DTYPE" title="Link to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">float16</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.DEFAULT_SEGMENTATION_DTYPE">
<span class="sig-name descname"><span class="pre">DEFAULT_SEGMENTATION_DTYPE</span></span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.DEFAULT_SEGMENTATION_DTYPE" title="Link to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">uint32</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.register_parameter">
<span class="sig-name descname"><span class="pre">register_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.register_parameter" title="Link to this definition"></a></dt>
<dd><p>Registers a new parameter by updating the configuration dictionary if the key didn’t exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em>) – Name of the parameter.</p></li>
<li><p><strong>value</strong> – Value of the parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.get_directory">
<span class="sig-name descname"><span class="pre">get_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.get_directory" title="Link to this definition"></a></dt>
<dd><p>Get the directory for this processing step.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Directory path.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.create_temp_dir">
<span class="sig-name descname"><span class="pre">create_temp_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.create_temp_dir" title="Link to this definition"></a></dt>
<dd><p>Create a temporary directory in the cache directory specified in the config for saving all intermediate results.
If “cache” not specified in the config for the method no directory will be created.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.clear_temp_dir">
<span class="sig-name descname"><span class="pre">clear_temp_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.clear_temp_dir" title="Link to this definition"></a></dt>
<dd><p>Delete created temporary directory.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.base.ProcessingStep.get_context">
<span class="sig-name descname"><span class="pre">get_context</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.base.ProcessingStep.get_context" title="Link to this definition"></a></dt>
<dd><p>Define context for multiprocessing steps that should be used.
The context is platform dependent.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="project">
<h2>project<a class="headerlink" href="#project" title="Link to this heading"></a></h2>
<p>Within scPortrait, all operations are centered around the concept of a <code class="docutils literal notranslate"><span class="pre">Project</span></code>. A <code class="docutils literal notranslate"><span class="pre">Project</span></code> is a python class which manages all of the scPortrait processing steps and is the central element through which all operations are performed. Each <code class="docutils literal notranslate"><span class="pre">Project</span></code> directly maps to a directory on the file system which contains all of the inputs to a specific scPortrait run as well as the generated outputs. Depending on the structure of the data that is to be processed a different Project class is required. Please see <a class="reference internal" href="../pipeline/project.html#projects"><span class="std std-ref">here</span></a> for more information.</p>
<section id="id1">
<h3>Project<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.project.</span></span><span class="sig-name descname"><span class="pre">Project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">location_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segmentation_f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segmentation_filtering_f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraction_f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classification_f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection_f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.base.Logable" title="scportrait.pipeline.base.Logable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logable</span></code></a></p>
<p>Project base class used to create a SPARCSpy project. This class manages all of the SPARCSpy processing steps. It directly maps
to a directory on the file system which contains all of the project inputs as well as the generated outputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location_path</strong> (<em>str</em>) – Path to the folder where to project should be created. The folder is created in case the specified folder does not exist.</p></li>
<li><p><strong>config_path</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default &quot;&quot;</em>) – Path pointing to a valid configuration file. The file will be copied to the project directory and renamed to the name specified in <code class="docutils literal notranslate"><span class="pre">DEFAULT_CLASSIFICATION_DIR_NAME</span></code>. If no config is specified, the existing config in the project directory will be used, if possible. See the section configuration to find out more about the config file.</p></li>
<li><p><strong>intermediate_output</strong> (<em>bool</em><em>, </em><em>default False</em>) – When set to True intermediate outputs will be saved where applicable.</p></li>
<li><p><strong>debug</strong> (<em>bool</em><em>, </em><em>default False</em>) – When set to True debug outputs will be printed where applicable.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – When set to True, the processing step directory will be completely deleted and newly created when called.</p></li>
<li><p><strong>segmentation_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing segmentation workflow.</p></li>
<li><p><strong>extraction_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing extraction workflow.</p></li>
<li><p><strong>classification_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing classification workflow.</p></li>
<li><p><strong>selection_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing selection workflow.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_CONFIG_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_CONFIG_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_CONFIG_NAME" title="Link to this definition"></a></dt>
<dd><p>Default config name which is used for the config file in the project directory. This name needs to be used when no config is supplied and the config is manually created in the project folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “config.yml”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_SEGMENTATION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_SEGMENTATION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_SEGMENTATION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the segmentation process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “segmentation”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_EXTRACTION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_EXTRACTION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_EXTRACTION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the extraction process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “extraction”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_CLASSIFICATION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_CLASSIFICATION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_CLASSIFICATION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the classification process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “selection”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_SELECTION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_SELECTION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_SELECTION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the selection process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “classification”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_IMAGE_DTYPE">
<span class="sig-name descname"><span class="pre">DEFAULT_IMAGE_DTYPE</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_IMAGE_DTYPE" title="Link to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">uint16</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.DEFAULT_SEGMENTATION_DTYPE">
<span class="sig-name descname"><span class="pre">DEFAULT_SEGMENTATION_DTYPE</span></span><a class="headerlink" href="#scportrait.pipeline.project.Project.DEFAULT_SEGMENTATION_DTYPE" title="Link to this definition"></a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">uint32</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.load_input_from_tif_files">
<span class="sig-name descname"><span class="pre">load_input_from_tif_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[(0,</span> <span class="pre">-1),</span> <span class="pre">(0,</span> <span class="pre">-1)]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.load_input_from_tif_files" title="Link to this definition"></a></dt>
<dd><p>Load input image from a list of files. The channels need to be specified in the following order: nucleus, cytosol other channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_paths</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing paths to each channel like
[“path1/img.tiff”, “path2/img.tiff”, “path3/img.tiff”].
Expects a list of file paths with length “input_channel” as
defined in the config.yml.</p></li>
<li><p><strong>crop</strong> (<em>list</em><em>(</em><em>tuple</em><em>)</em><em>, </em><em>optional</em>) – When set, it can be used to crop the input image. The first
element refers to the first dimension of the image and so on.
For example use “[(0,1000),(0,2000)]” to crop the image to
1000 px height and 2000 px width from the top left corner.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.load_input_from_array">
<span class="sig-name descname"><span class="pre">load_input_from_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.load_input_from_array" title="Link to this definition"></a></dt>
<dd><p>Load input image from an already loaded numpy array.
The numpy array needs to have the following shape: CXY.
The channels need to be in the following order: nucleus, cellmembrane channel,
other channnels or a remapping needs to be defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>numpy.ndarray</em>) – Numpy array of shape “[channels, height, width]”.</p></li>
<li><p><strong>remap</strong> (<em>list</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Define remapping of channels. For example use “[1, 0, 2]”
to change the order of the first and the second channel.
The expected order is Nucleus Channel, Cellmembrane Channel
followed by other channels.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.load_input_from_czi">
<span class="sig-name descname"><span class="pre">load_input_from_czi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">czi_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity_rescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_stack_projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.005,</span> <span class="pre">0.995)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.load_input_from_czi" title="Link to this definition"></a></dt>
<dd><p>Load image input from .czi file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>czi_path</strong> (<em>path</em>) – path to .czi file that should be loaded</p></li>
<li><p><strong>intensity_rescale</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean indicator if the read image should be intensity rescaled to the 0.5% and 99.5% quantile. Defaults to True.</p></li>
<li><p><strong>scene</strong> (<em>int</em><em>, </em><em>optional</em>) – integer indicating which scene should be selected if the .czi contains several. Defaults to None.</p></li>
<li><p><strong>z_stack_projection</strong> (<em>int</em><em> or </em><em>&quot;maximum_intensity_projection&quot;</em><em> or </em><em>&quot;EDF&quot;</em>) – if the .czi contains Z-stacks indicator which method should be used to integrate them. If an integer is passed the z-stack with that id is used. Can also pass a string indicating the implemented methods. Defaults to None.</p></li>
<li><p><strong>remap</strong> (<em>list</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Define remapping of channels. For example use “[1, 0, 2]” to change the order of the first and the second channel. The expected order is Nucleus Channel, Cellmembrane Channel followed by other channels.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.segment">
<span class="sig-name descname"><span class="pre">segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.segment" title="Link to this definition"></a></dt>
<dd><p>Segment project with the selected segmentation method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.complete_segmentation">
<span class="sig-name descname"><span class="pre">complete_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.complete_segmentation" title="Link to this definition"></a></dt>
<dd><p>complete an aborted or failed segmentation run.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.filter_segmentation">
<span class="sig-name descname"><span class="pre">filter_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.filter_segmentation" title="Link to this definition"></a></dt>
<dd><p>execute workflow to run filtering on generated segmentation masks to only select those cells that
fulfill the filtering criteria</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.complete_filter_segmentation">
<span class="sig-name descname"><span class="pre">complete_filter_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.complete_filter_segmentation" title="Link to this definition"></a></dt>
<dd><p>complete an aborted or failed segmentation filtering run.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.extract">
<span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.extract" title="Link to this definition"></a></dt>
<dd><p>Extract single cells with the defined extraction method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.partial_extract">
<span class="sig-name descname"><span class="pre">partial_extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.partial_extract" title="Link to this definition"></a></dt>
<dd><p>Extract n number of single cells with the defined extraction method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.classify">
<span class="sig-name descname"><span class="pre">classify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.classify" title="Link to this definition"></a></dt>
<dd><p>Classify extracted single cells with the defined classification method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.Project.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.Project.select" title="Link to this definition"></a></dt>
<dd><p>Select specified classes using the defined selection method.</p>
</dd></dl>

</dd></dl>

</section>
<section id="timecourseproject">
<h3>TimecourseProject<a class="headerlink" href="#timecourseproject" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.project.</span></span><span class="sig-name descname"><span class="pre">TimecourseProject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.project.Project" title="scportrait.pipeline.project.Project"><code class="xref py py-class docutils literal notranslate"><span class="pre">Project</span></code></a></p>
<p>TimecourseProject class used to create a SPARCSpy project for datasets that have multiple fields of view that should be processed and analysed together.
It is also capable of handling multiple timepoints for the same field of view or a combiantion of both. Like the base SPARCSpy <code class="xref py py-func docutils literal notranslate"><span class="pre">Project</span></code>,
it manages all of the SPARCSpy processing steps. Because the input data has a different dimensionality than the base SPARCSpy <code class="xref py py-func docutils literal notranslate"><span class="pre">Project</span></code> class,
it requires the use of specialized processing classes that are able to handle this additional dimensionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location_path</strong> (<em>str</em>) – Path to the folder where to project should be created. The folder is created in case the specified folder does not exist.</p></li>
<li><p><strong>config_path</strong> (<em>str</em><em>, </em><em>optional</em><em>, </em><em>default &quot;&quot;</em>) – Path pointing to a valid configuration file. The file will be copied to the project directory and renamed to the name specified in <code class="docutils literal notranslate"><span class="pre">DEFAULT_CLASSIFICATION_DIR_NAME</span></code>. If no config is specified, the existing config in the project directory will be used, if possible. See the section configuration to find out more about the config file.</p></li>
<li><p><strong>intermediate_output</strong> (<em>bool</em><em>, </em><em>default False</em>) – When set to True intermediate outputs will be saved where applicable.</p></li>
<li><p><strong>debug</strong> (<em>bool</em><em>, </em><em>default False</em>) – When set to True debug outputs will be printed where applicable.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – When set to True, the processing step directory will be completely deleted and newly created when called.</p></li>
<li><p><strong>segmentation_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing segmentation workflow.</p></li>
<li><p><strong>extraction_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing extraction workflow.</p></li>
<li><p><strong>classification_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing classification workflow.</p></li>
<li><p><strong>selection_f</strong> (<em>Class</em><em>, </em><em>default None</em>) – Class containing selection workflow.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.DEFAULT_CONFIG_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_CONFIG_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.DEFAULT_CONFIG_NAME" title="Link to this definition"></a></dt>
<dd><p>Default config name which is used for the config file in the project directory. This name needs to be used when no config is supplied and the config is manually created in the project folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “config.yml”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.DEFAULT_INPUT_IMAGE_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_INPUT_IMAGE_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.DEFAULT_INPUT_IMAGE_NAME" title="Link to this definition"></a></dt>
<dd><p>Default file name for loading the input image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “input_segmentation.h5”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.DEFAULT_SEGMENTATION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_SEGMENTATION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.DEFAULT_SEGMENTATION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the segmentation process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “segmentation”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.DEFAULT_EXTRACTION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_EXTRACTION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.DEFAULT_EXTRACTION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the extraction process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “extraction”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.DEFAULT_CLASSIFICATION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_CLASSIFICATION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.DEFAULT_CLASSIFICATION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the classification process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “selection”</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.DEFAULT_SELECTION_DIR_NAME">
<span class="sig-name descname"><span class="pre">DEFAULT_SELECTION_DIR_NAME</span></span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.DEFAULT_SELECTION_DIR_NAME" title="Link to this definition"></a></dt>
<dd><p>Default foldername for the selection process.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default “classification”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.load_input_from_array">
<span class="sig-name descname"><span class="pre">load_input_from_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.load_input_from_array" title="Link to this definition"></a></dt>
<dd><p>Function to load imaging data from an array into the TimecourseProject.</p>
<p>The provided array needs to fullfill the following conditions:
- shape: NCYX
- all images need to have the same dimensions and the same number of channels
- channels need to be in the following order: nucleus, cytosol other channels
- dtype uint16.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>numpy.ndarray</em>) – Numpy array of shape “[num_images, channels, height, width]”.</p></li>
<li><p><strong>label</strong> (<em>numpy.ndarray</em>) – Numpy array of shape “[num_images, num_labels]” containing the labels for each image. The labels need to have the following structure: “image_index”, “unique_image_identifier”, “…”</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – If set to True, the function will overwrite the existing input image.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.load_input_from_files">
<span class="sig-name descname"><span class="pre">load_input_from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timepoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1080</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.load_input_from_files" title="Link to this definition"></a></dt>
<dd><p>Function to load timecourse experiments recorded with an opera phenix into the TimecourseProject.</p>
<p>Before being able to use this function the exported images from the opera phenix first need to be parsed, sorted and renamed using the <a class="reference external" href="https://github.com/MannLabs/SPARCStools">sparcstools package</a>.</p>
<p>In addition a plate layout file needs to be created that contains the information on imaged experiment and the experimental conditions for each well. This file needs to be in the following format,
using the well notation <code class="docutils literal notranslate"><span class="pre">RowXX_WellXX</span></code>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Well</p></th>
<th class="head"><p>Condition1</p></th>
<th class="head"><p>Condition2</p></th>
<th class="head"><p>…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>RowXX_WellXX</p></td>
<td><p>A</p></td>
<td><p>B</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>A tab needs to be used as a seperator and the file saved as a .tsv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dir</strong> (<em>str</em>) – Path to the directory containing the sorted images from the opera phenix.</p></li>
<li><p><strong>channels</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing the names of the channels that should be loaded.</p></li>
<li><p><strong>timepoints</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing the names of the timepoints that should be loaded. Will return a warning if you try to load a timepoint that is not found in the data.</p></li>
<li><p><strong>plate_layout</strong> (<em>str</em>) – Path to the plate layout file. For the format please see above.</p></li>
<li><p><strong>img_size</strong> (<em>int</em><em>, </em><em>default 1080</em>) – Size of the images that should be loaded. All images will be cropped to this size.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – If set to True, the function will overwrite the existing input image.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;DAPI&quot;</span><span class="p">,</span> <span class="s2">&quot;Alexa488&quot;</span><span class="p">,</span> <span class="s2">&quot;mCherry&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timepoints</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Timepoint&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/sorted/outputs/from/sparcstools&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plate_layout</span> <span class="o">=</span> <span class="s2">&quot;plate_layout.tsv&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">project</span><span class="o">.</span><span class="n">load_input_from_files</span><span class="p">(</span><span class="n">input_dir</span> <span class="o">=</span> <span class="n">input_dir</span><span class="p">,</span>  <span class="n">channels</span> <span class="o">=</span> <span class="n">channels</span><span class="p">,</span>  <span class="n">timepoints</span> <span class="o">=</span> <span class="n">timepoints</span><span class="p">,</span> <span class="n">plate_layout</span> <span class="o">=</span> <span class="n">plate_layout</span><span class="p">,</span> <span class="n">overwrite</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Function to load timecourse experiments recorded with an opera phenix into the TimecourseProject.</p>
<p>Before being able to use this function the exported images from the opera phenix first need to be parsed, sorted and renamed using the <a class="reference external" href="https://github.com/MannLabs/SPARCStools">sparcstools package</a>.</p>
<p>In addition a plate layout file needs to be created that contains the information on imaged experiment and the experimental conditions for each well. This file needs to be in the following format,
using the well notation <code class="docutils literal notranslate"><span class="pre">RowXX_WellXX</span></code>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Well</p></th>
<th class="head"><p>Condition1</p></th>
<th class="head"><p>Condition2</p></th>
<th class="head"><p>…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>RowXX_WellXX</p></td>
<td><p>A</p></td>
<td><p>B</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>A tab needs to be used as a seperator and the file saved as a .tsv file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dir</strong> (<em>str</em>) – Path to the directory containing the sorted images from the opera phenix.</p></li>
<li><p><strong>channels</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing the names of the channels that should be loaded.</p></li>
<li><p><strong>timepoints</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing the names of the timepoints that should be loaded. Will return a warning if you try to load a timepoint that is not found in the data.</p></li>
<li><p><strong>plate_layout</strong> (<em>str</em>) – Path to the plate layout file. For the format please see above.</p></li>
<li><p><strong>img_size</strong> (<em>int</em><em>, </em><em>default 1080</em>) – Size of the images that should be loaded. All images will be cropped to this size.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – If set to True, the function will overwrite the existing input image.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">channels</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;DAPI&quot;</span><span class="p">,</span> <span class="s2">&quot;Alexa488&quot;</span><span class="p">,</span> <span class="s2">&quot;mCherry&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timepoints</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Timepoint&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dir</span> <span class="o">=</span> <span class="s2">&quot;path/to/sorted/outputs/from/sparcstools&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plate_layout</span> <span class="o">=</span> <span class="s2">&quot;plate_layout.tsv&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">project</span><span class="o">.</span><span class="n">load_input_from_files</span><span class="p">(</span><span class="n">input_dir</span> <span class="o">=</span> <span class="n">input_dir</span><span class="p">,</span>  <span class="n">channels</span> <span class="o">=</span> <span class="n">channels</span><span class="p">,</span>  <span class="n">timepoints</span> <span class="o">=</span> <span class="n">timepoints</span><span class="p">,</span> <span class="n">plate_layout</span> <span class="o">=</span> <span class="n">plate_layout</span><span class="p">,</span> <span class="n">overwrite</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.load_input_from_stitched_files">
<span class="sig-name descname"><span class="pre">load_input_from_stitched_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timepoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.load_input_from_stitched_files" title="Link to this definition"></a></dt>
<dd><p>Function to load timecourse experiments recorded with opera phenix into .h5 dataformat for further processing.
Assumes that stitched images for all files have already been assembled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dir</strong> (<em>str</em>) – path to directory containing the stitched images</p></li>
<li><p><strong>channels</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – list of strings indicating which channels should be loaded</p></li>
<li><p><strong>timepoints</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – list of strings indicating which timepoints should be loaded</p></li>
<li><p><strong>plate_layout</strong> (<em>str</em>) – path to csv file containing the plate layout</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean indicating if existing files should be overwritten. Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.load_input_from_files_and_merge">
<span class="sig-name descname"><span class="pre">load_input_from_files_and_merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timepoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plate_layout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1080</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stitching_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Alexa488'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_shift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nucleus_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DAPI'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cytosol_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Alexa488'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.load_input_from_files_and_merge" title="Link to this definition"></a></dt>
<dd><p>Function to load timecourse experiments recorded with an opera phenix into a TimecourseProject. In addition to loading the images,
this wrapper function also stitches images acquired in the same well (this assumes that the tiles were aquired with overlap and in a rectangular shape)
using the <a class="reference external" href="https://github.com/MannLabs/SPARCStools">sparcstools package</a>. Implementation of this function is currently still slow for many wells/timepoints as stitching
is handled consecutively and not in parallel. This will be fixed in the future.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dir</strong> (<em>str</em>) – Path to the directory containing the sorted images from the opera phenix.</p></li>
<li><p><strong>channels</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing the names of the channels that should be loaded.</p></li>
<li><p><strong>timepoints</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – List containing the names of the timepoints that should be loaded. Will return a warning if you try to load a timepoint that is not found in the data.</p></li>
<li><p><strong>plate_layout</strong> (<em>str</em>) – Path to the plate layout file. For the format please see above.</p></li>
<li><p><strong>img_size</strong> (<em>int</em><em>, </em><em>default 1080</em>) – Size of the images that should be loaded. All images will be cropped to this size.</p></li>
<li><p><strong>stitching_channel</strong> (<em>str</em><em>, </em><em>default &quot;Alexa488&quot;</em>) – string indicated on which channel the stitching should be calculated.</p></li>
<li><p><strong>overlap</strong> (<em>float</em><em>, </em><em>default 0.1</em>) – float indicating the overlap between the tiles that were aquired.</p></li>
<li><p><strong>max_shift</strong> (<em>int</em><em>, </em><em>default 10</em>) – int indicating the maximum shift that is allowed when stitching the tiles. If a calculated shift is larger than this threshold
between two tiles then the position of these tiles is not updated and is set according to the calculated position based on the overlap.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – If set to True, the function will overwrite the existing input image.</p></li>
<li><p><strong>nucleus_channel</strong> (<em>str</em><em>, </em><em>default &quot;DAPI&quot;</em>) – string indicating the channel that should be used for the nucleus channel.</p></li>
<li><p><strong>cytosol_channel</strong> (<em>str</em><em>, </em><em>default &quot;Alexa488&quot;</em>) – string indicating the channel that should be used for the cytosol channel.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.segment">
<span class="sig-name descname"><span class="pre">segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.segment" title="Link to this definition"></a></dt>
<dd><p>segment timecourse project with the defined segmentation method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.project.TimecourseProject.extract">
<span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.project.TimecourseProject.extract" title="Link to this definition"></a></dt>
<dd><p>Extract single cells from a timecourse project with the defined extraction method.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="segmentation">
<h2>segmentation<a class="headerlink" href="#segmentation" title="Link to this heading"></a></h2>
<section id="id4">
<h3>Segmentation<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.segmentation.</span></span><span class="sig-name descname"><span class="pre">Segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.base.ProcessingStep" title="scportrait.pipeline.base.ProcessingStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessingStep</span></code></a></p>
<p>Segmentation helper class used for creating segmentation workflows.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.maps">
<span class="sig-name descname"><span class="pre">maps</span></span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.maps" title="Link to this definition"></a></dt>
<dd><p>Segmentation workflows based on the <a class="reference internal" href="#scportrait.pipeline.segmentation.Segmentation" title="scportrait.pipeline.segmentation.Segmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Segmentation</span></code></a> class can use maps for saving and loading checkpoints and perform. Maps can be numpy arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.DEFAULT_FILTER_ADDTIONAL_FILE">
<span class="sig-name descname"><span class="pre">DEFAULT_FILTER_ADDTIONAL_FILE</span></span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.DEFAULT_FILTER_ADDTIONAL_FILE" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default <code class="docutils literal notranslate"><span class="pre">filtered_classes.csv</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.PRINT_MAPS_ON_DEBUG">
<span class="sig-name descname"><span class="pre">PRINT_MAPS_ON_DEBUG</span></span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.PRINT_MAPS_ON_DEBUG" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, default <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.identifier">
<span class="sig-name descname"><span class="pre">identifier</span></span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.identifier" title="Link to this definition"></a></dt>
<dd><p>Only set if called by <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a>. Unique index of the shard.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int, default <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.window">
<span class="sig-name descname"><span class="pre">window</span></span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.window" title="Link to this definition"></a></dt>
<dd><p>Only set if called by <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a>. Defines the window which is assigned to the shard. The window will be applied to the input. The first element refers to the first dimension of the image and so on. For example use <code class="docutils literal notranslate"><span class="pre">[(0,1000),(0,2000)]</span></code> To crop the image to <cite>1000 px height</cite> and <cite>2000 px width</cite> from the top left corner.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list(tuple), default <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.input_path">
<span class="sig-name descname"><span class="pre">input_path</span></span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.input_path" title="Link to this definition"></a></dt>
<dd><p>Only set if called by <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a>. Location of the input hdf5 file. During sharded segmentation the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> derived helper class will save the input image in form of a hdf5 file. This makes the input image available for parallel reading by the segmentation processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str, default <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># two maps are initialized</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">maps</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;map0&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="s2">&quot;map1&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

    <span class="c1"># its checked if the segmentation directory already contains these maps and they are then loaded. The index of the first map which has not been found is returned. It indicates the step where computation needs to resume</span>
    <span class="n">current_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_maps_from_disk</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">current_step</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># do stuff and generate map0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_map</span><span class="p">(</span><span class="s2">&quot;map0&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">current_step</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="c1"># do stuff and generate map1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_map</span><span class="p">(</span><span class="s2">&quot;map1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.initialize_as_shard">
<span class="sig-name descname"><span class="pre">initialize_as_shard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zarr_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.initialize_as_shard" title="Link to this definition"></a></dt>
<dd><p>Initialize Segmentation Step with further parameters needed for federated segmentation.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This function is intended for internal use by the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> helper class. In most cases it is not relevant to the creation of custom segmentation workflows.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identifier</strong> (<em>int</em>) – Unique index of the shard.</p></li>
<li><p><strong>window</strong> (<em>list</em><em>(</em><em>tuple</em><em>)</em>) – Defines the window which is assigned to the shard. The window will be applied to the input. The first element refers to the first dimension of the image and so on. For example use <code class="docutils literal notranslate"><span class="pre">[(0,1000),(0,2000)]</span></code> To crop the image to <cite>1000 px height</cite> and <cite>2000 px width</cite> from the top left corner.</p></li>
<li><p><strong>input_path</strong> (<em>str</em>) – Location of the input hdf5 file. During sharded segmentation the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> derived helper class will save the input image in form of a hdf5 file. This makes the input image available for parallel reading by the segmentation processes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.call_as_shard">
<span class="sig-name descname"><span class="pre">call_as_shard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.call_as_shard" title="Link to this definition"></a></dt>
<dd><p>Wrapper function for calling a sharded segmentation.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This function is intended for internal use by the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> helper class. In most cases it is not relevant to the creation of custom segmentation workflows.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.save_segmentation">
<span class="sig-name descname"><span class="pre">save_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.save_segmentation" title="Link to this definition"></a></dt>
<dd><p>Saves the results of a segmentation at the end of the process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channels</strong> (<em>np.array</em>) – Numpy array of shape <code class="docutils literal notranslate"><span class="pre">(height,</span> <span class="pre">width)</span></code> or``(channels, height, width)``. Channels are all data which are saved as floating point values e.g. images.</p></li>
<li><p><strong>labels</strong> (<em>np.array</em>) – Numpy array of shape <code class="docutils literal notranslate"><span class="pre">(height,</span> <span class="pre">width)</span></code>. Labels are all data which are saved as integer values. These are mostly segmentation maps with integer values corresponding to the labels of cells.</p></li>
<li><p><strong>classes</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – List of all classes in the labels array, which have passed the filtering step. All classes contained in this list will be extracted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.save_segmentation_zarr">
<span class="sig-name descname"><span class="pre">save_segmentation_zarr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.save_segmentation_zarr" title="Link to this definition"></a></dt>
<dd><p>Saves the results of a segemtnation at the end of the process to ome.zarr</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.load_maps_from_disk">
<span class="sig-name descname"><span class="pre">load_maps_from_disk</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.load_maps_from_disk" title="Link to this definition"></a></dt>
<dd><p>Tries to load all maps which were defined in <code class="docutils literal notranslate"><span class="pre">self.maps</span></code> and returns the current state of processing.</p>
<dl class="simple">
<dt>Returns</dt><dd><p>(int): Index of the first map which could not be loaded. An index of zero indicates that computation needs to start at the first map.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.Segmentation.save_map">
<span class="sig-name descname"><span class="pre">save_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">map_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.Segmentation.save_map" title="Link to this definition"></a></dt>
<dd><p>Saves newly computed map.</p>
<dl class="simple">
<dt>Args</dt><dd><p>map_name (str): name of the map to be saved, as defined in <code class="docutils literal notranslate"><span class="pre">self.maps</span></code>.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># declare all intermediate maps</span>
<span class="bp">self</span><span class="o">.</span><span class="n">maps</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;myMap&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

<span class="c1"># load intermediate maps if possible and get current processing step</span>
<span class="n">current_step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_maps_from_disk</span><span class="p">()</span>

<span class="k">if</span> <span class="n">current_step</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>

    <span class="c1"># do some computations</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">maps</span><span class="p">[</span><span class="s2">&quot;myMap&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">myNumpyArray</span>

    <span class="c1"># save map</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save_map</span><span class="p">(</span><span class="s2">&quot;myMap&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="shardedsegmentation">
<h3>ShardedSegmentation<a class="headerlink" href="#shardedsegmentation" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.ShardedSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.segmentation.</span></span><span class="sig-name descname"><span class="pre">ShardedSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.segmentation.Segmentation" title="scportrait.pipeline.segmentation.Segmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Segmentation</span></code></a></p>
<p>To perform a sharded segmentation where the input image is split into individual tiles (with overlap) that are processed idnividually before the results are joined back together.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.ShardedSegmentation.save_segmentation">
<span class="sig-name descname"><span class="pre">save_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.ShardedSegmentation.save_segmentation" title="Link to this definition"></a></dt>
<dd><p>Saves the results of a segmentation at the end of the process. For the sharded segmentation no channels are passed because they have already been saved</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>np.array</em>) – Numpy array of shape <code class="docutils literal notranslate"><span class="pre">(height,</span> <span class="pre">width)</span></code>. Labels are all data which are saved as integer values. These are mostly segmentation maps with integer values corresponding to the labels of cells.</p></li>
<li><p><strong>classes</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – List of all classes in the labels array, which have passed the filtering step. All classes contained in this list will be extracted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.ShardedSegmentation.resolve_sharding">
<span class="sig-name descname"><span class="pre">resolve_sharding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sharding_plan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.ShardedSegmentation.resolve_sharding" title="Link to this definition"></a></dt>
<dd><p>The function iterates over a sharding plan and generates a new stitched hdf5 based segmentation.</p>
</dd></dl>

</dd></dl>

</section>
<section id="timecoursesegmentation">
<h3>TimecourseSegmentation<a class="headerlink" href="#timecoursesegmentation" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.segmentation.</span></span><span class="sig-name descname"><span class="pre">TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.segmentation.Segmentation" title="scportrait.pipeline.segmentation.Segmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Segmentation</span></code></a></p>
<p>Segmentation helper class used for creating segmentation workflows working with timecourse data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.TimecourseSegmentation.initialize_as_shard">
<span class="sig-name descname"><span class="pre">initialize_as_shard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_tmp_seg_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.TimecourseSegmentation.initialize_as_shard" title="Link to this definition"></a></dt>
<dd><p>Initialize Segmentation Step with further parameters needed for federated segmentation.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This function is intented for internal use by the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> helper class. In most cases it is not relevant to the creation of custom segmentation workflows.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Unique indexes of the elements that need to be segmented.</p></li>
<li><p><strong>input_path</strong> (<em>str</em>) – Location of the input hdf5 file. During sharded segmentation the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> derived helper class will save the input image in form of a hdf5 file. This makes the input image available for parallel reading by the segmentation processes.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.TimecourseSegmentation.call_as_shard">
<span class="sig-name descname"><span class="pre">call_as_shard</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.TimecourseSegmentation.call_as_shard" title="Link to this definition"></a></dt>
<dd><p>Wrapper function for calling a sharded segmentation.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>This function is intended for internal use by the <a class="reference internal" href="#scportrait.pipeline.segmentation.ShardedSegmentation" title="scportrait.pipeline.segmentation.ShardedSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShardedSegmentation</span></code></a> helper class. In most cases it is not relevant to the creation of custom segmentation workflows.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.TimecourseSegmentation.save_segmentation">
<span class="sig-name descname"><span class="pre">save_segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.TimecourseSegmentation.save_segmentation" title="Link to this definition"></a></dt>
<dd><p>Saves the results of a segmentation at the end of the process by transferring it to the initialized
memory mapped array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> (<em>np.array</em>) – Numpy array of shape <code class="docutils literal notranslate"><span class="pre">(height,</span> <span class="pre">width)</span></code>. Labels are all data which are saved as integer values. These are mostly segmentation maps with integer values corresponding to the labels of cells.</p></li>
<li><p><strong>classes</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – List of all classes in the labels array, which have passed the filtering step. All classes contained in this list will be extracted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.TimecourseSegmentation.adjust_segmentation_indexes">
<span class="sig-name descname"><span class="pre">adjust_segmentation_indexes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.TimecourseSegmentation.adjust_segmentation_indexes" title="Link to this definition"></a></dt>
<dd><p>The function iterates over all present segmented files and adjusts the indexes so that they are unique throughout.</p>
</dd></dl>

</dd></dl>

</section>
<section id="multithreadedtimecoursesegmentation">
<h3>MultithreadedTimecourseSegmentation<a class="headerlink" href="#multithreadedtimecoursesegmentation" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.segmentation.MultithreadedSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.segmentation.</span></span><span class="sig-name descname"><span class="pre">MultithreadedSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.segmentation.MultithreadedSegmentation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.segmentation.TimecourseSegmentation" title="scportrait.pipeline.segmentation.TimecourseSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimecourseSegmentation</span></code></a></p>
</dd></dl>

</section>
</section>
<section id="module-scportrait.pipeline.workflows">
<span id="workflows"></span><h2>workflows<a class="headerlink" href="#module-scportrait.pipeline.workflows" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.WGASegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">WGASegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.WGASegmentation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedWGASegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">ShardedWGASegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedWGASegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedWGASegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedWGASegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.WGASegmentation" title="scportrait.pipeline.workflows.WGASegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">WGASegmentation</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.DAPISegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">DAPISegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.DAPISegmentation" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedDAPISegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">ShardedDAPISegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedDAPISegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedDAPISegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedDAPISegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.DAPISegmentation" title="scportrait.pipeline.workflows.DAPISegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAPISegmentation</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.DAPISegmentationCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">DAPISegmentationCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.DAPISegmentationCellpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedDAPISegmentationCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">ShardedDAPISegmentationCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedDAPISegmentationCellpose" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedDAPISegmentationCellpose.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedDAPISegmentationCellpose.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.DAPISegmentationCellpose" title="scportrait.pipeline.workflows.DAPISegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">DAPISegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolSegmentationCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">CytosolSegmentationCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolSegmentationCellpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedCytosolSegmentationCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">ShardedCytosolSegmentationCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedCytosolSegmentationCellpose" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedCytosolSegmentationCellpose.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedCytosolSegmentationCellpose.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationCellpose" title="scportrait.pipeline.workflows.CytosolSegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">CytosolSegmentationDownsamplingCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedCytosolSegmentationDownsamplingCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">ShardedCytosolSegmentationDownsamplingCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedCytosolSegmentationDownsamplingCellpose" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.ShardedCytosolSegmentationDownsamplingCellpose.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.ShardedCytosolSegmentationDownsamplingCellpose.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose" title="scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationDownsamplingCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">CytosolOnlySegmentationCellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Sharded_CytosolOnly_Cellpose_Segmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Sharded_CytosolOnly_Cellpose_Segmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Sharded_CytosolOnly_Cellpose_Segmentation" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Sharded_CytosolOnly_Cellpose_Segmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Sharded_CytosolOnly_Cellpose_Segmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose" title="scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolOnlySegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolOnly_Segmentation_Downsampling_Cellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">CytosolOnly_Segmentation_Downsampling_Cellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolOnly_Segmentation_Downsampling_Cellpose" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Sharded_CytosolOnly_Segmentation_Downsampling_Cellpose.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnly_Segmentation_Downsampling_Cellpose" title="scportrait.pipeline.workflows.CytosolOnly_Segmentation_Downsampling_Cellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolOnly_Segmentation_Downsampling_Cellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.WGA_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">WGA_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.WGA_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><p>Specialized Processing for Timecourse segmentation (i.e. smaller tiles not stitched together from many different wells and or timepoints).
No intermediate results are saved and everything is written to one .hdf5 file.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.WGA_TimecourseSegmentation.WGASegmentation_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WGASegmentation_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.WGA_TimecourseSegmentation.WGASegmentation_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.WGA_TimecourseSegmentation.WGASegmentation_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.WGA_TimecourseSegmentation.WGASegmentation_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.WGASegmentation" title="scportrait.pipeline.workflows.WGASegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">WGASegmentation</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.WGA_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.WGA_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.WGA_TimecourseSegmentation.WGASegmentation_Timecourse" title="scportrait.pipeline.workflows.WGA_TimecourseSegmentation.WGASegmentation_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">WGASegmentation_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Multithreaded_WGA_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.WGASegmentation_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WGASegmentation_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.WGASegmentation_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.WGASegmentation_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.WGASegmentation_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.WGASegmentation" title="scportrait.pipeline.workflows.WGASegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">WGASegmentation</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.WGASegmentation_Timecourse" title="scportrait.pipeline.workflows.Multithreaded_WGA_TimecourseSegmentation.WGASegmentation_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">WGASegmentation_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Cytosol_Cellpose_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><p>Specialized Processing for Timecourse segmentation (i.e. smaller tiles not stitched together from many different wells and or timepoints).
No intermediate results are saved and everything is written to one .hdf5 file. Uses Cellpose segmentation models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CytosolSegmentationCellpose_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationCellpose" title="scportrait.pipeline.workflows.CytosolSegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse" title="scportrait.pipeline.workflows.Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationCellpose_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Cytosol_Cellpose_Downsampling_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><p>Specialized Processing for Timecourse segmentation (i.e. smaller tiles not stitched together from many different wells and or timepoints).
No intermediate results are saved and everything is written to one .hdf5 file. Uses Cellpose segmentation models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Cytosol_Segmentation_Downsampling_Cellpose_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose" title="scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationDownsamplingCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse" title="scportrait.pipeline.workflows.Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cytosol_Segmentation_Downsampling_Cellpose_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">CytosolOnly_Cellpose_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><p>Specialized Processing for Timecourse segmentation (i.e. smaller tiles not stitched together from many different wells and or timepoints).
No intermediate results are saved and everything is written to one .hdf5 file. Uses Cellpose segmentation models.</p>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_Cellpose_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CytosolOnly_Cellpose_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_Cellpose_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_Cellpose_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_Cellpose_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose" title="scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolOnlySegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_Cellpose_TimecourseSegmentation" title="scportrait.pipeline.workflows.CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_Cellpose_TimecourseSegmentation"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolOnly_Cellpose_TimecourseSegmentation</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Multithreaded_Cytosol_Cellpose_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CytosolSegmentationCellpose_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationCellpose" title="scportrait.pipeline.workflows.CytosolSegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse" title="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_TimecourseSegmentation.CytosolSegmentationCellpose_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationCellpose_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Cytosol_Segmentation_Downsampling_Cellpose_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose" title="scportrait.pipeline.workflows.CytosolSegmentationDownsamplingCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolSegmentationDownsamplingCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse" title="scportrait.pipeline.workflows.Multithreaded_Cytosol_Cellpose_Downsampling_TimecourseSegmentation.Cytosol_Segmentation_Downsampling_Cellpose_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cytosol_Segmentation_Downsampling_Cellpose_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.workflows.</span></span><span class="sig-name descname"><span class="pre">Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation" title="Link to this definition"></a></dt>
<dd><dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_SegmentationCellpose_Timecourse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CytosolOnly_SegmentationCellpose_Timecourse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_SegmentationCellpose_Timecourse" title="Link to this definition"></a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_SegmentationCellpose_Timecourse.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_SegmentationCellpose_Timecourse.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose" title="scportrait.pipeline.workflows.CytosolOnlySegmentationCellpose"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolOnlySegmentationCellpose</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.method">
<span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.method" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_SegmentationCellpose_Timecourse" title="scportrait.pipeline.workflows.Multithreaded_CytosolOnly_Cellpose_TimecourseSegmentation.CytosolOnly_SegmentationCellpose_Timecourse"><code class="xref py py-class docutils literal notranslate"><span class="pre">CytosolOnly_SegmentationCellpose_Timecourse</span></code></a></p>
</dd></dl>

</dd></dl>

</section>
<section id="extraction">
<h2>extraction<a class="headerlink" href="#extraction" title="Link to this heading"></a></h2>
<section id="hdf5cellextraction">
<h3>HDF5CellExtraction<a class="headerlink" href="#hdf5cellextraction" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.extraction.HDF5CellExtraction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.extraction.</span></span><span class="sig-name descname"><span class="pre">HDF5CellExtraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.extraction.HDF5CellExtraction" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.base.ProcessingStep" title="scportrait.pipeline.base.ProcessingStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessingStep</span></code></a></p>
<p>A class to extracts single cell images from a segmented SPARCSpy project and save the
results to an HDF5 file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.extraction.HDF5CellExtraction.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_segmentation_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filtered_classes_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_cells</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.extraction.HDF5CellExtraction.process" title="Link to this definition"></a></dt>
<dd><p>Extracts single cell images from a segmented SPARCSpy project and saves the results to an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_segmentation_path</strong> (<em>str</em>) – Path of the segmentation HDF5 file. If this class is used as part of a project processing workflow, this argument will be provided automatically.</p></li>
<li><p><strong>filtered_classes_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the filtered classes that should be used for extraction. Default is None. If not provided, will use the automatically generated paths.</p></li>
</ul>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If this class is used as part of a project processing workflow, all of the arguments will be provided by the <code class="docutils literal notranslate"><span class="pre">Project</span></code> class based on the previous segmentation.
The Project class will automatically provide the most recent segmentation forward together with the supplied parameters.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># After project is initialized and input data has been loaded and segmented</span>
<span class="n">project</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The following parameters are required in the config file when running this method:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">HDF5CellExtraction</span><span class="p">:</span>

<span class="w">    </span><span class="nt">compression</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="c1"># threads used in multithreading</span>
<span class="w">    </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>

<span class="w">    </span><span class="c1"># image size in pixels</span>
<span class="w">    </span><span class="nt">image_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">128</span>

<span class="w">    </span><span class="c1"># directory where intermediate results should be saved</span>
<span class="w">    </span><span class="nt">cache</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/mnt/temp/cache&quot;</span>

<span class="w">    </span><span class="c1"># specs to define how HDF5 data should be chunked and saved</span>
<span class="w">    </span><span class="nt">hdf5_rdcc_nbytes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5242880000</span><span class="w"> </span><span class="c1"># 5GB 1024 * 1024 * 5000</span>
<span class="w">    </span><span class="nt">hdf5_rdcc_w0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">hdf5_rdcc_nslots</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50000</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="timecoursehdf5cellextraction">
<h3>TimecourseHDF5CellExtraction<a class="headerlink" href="#timecoursehdf5cellextraction" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.extraction.TimecourseHDF5CellExtraction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.extraction.</span></span><span class="sig-name descname"><span class="pre">TimecourseHDF5CellExtraction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.extraction.TimecourseHDF5CellExtraction" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.extraction.HDF5CellExtraction" title="scportrait.pipeline.extraction.HDF5CellExtraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">HDF5CellExtraction</span></code></a></p>
<p>A class to extracts single cell images from a segmented SPARCSpy Timecourse project and save the
results to an HDF5 file.</p>
<p>Functionality is the same as the HDF5CellExtraction except that the class is able to deal with an additional dimension(t)
in the input data.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.extraction.TimecourseHDF5CellExtraction.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_segmentation_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filtered_classes_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.extraction.TimecourseHDF5CellExtraction.process" title="Link to this definition"></a></dt>
<dd><p>Process function to run the extraction method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_segmentation_path</strong> (<em>str</em>) – Path of the segmentation HDF5 file. If this class is used as part of a project processing workflow, this argument will be provided automatically.</p></li>
<li><p><strong>filtered_classes_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the filtered classes that should be used for extraction. Default is None. If not provided, will use the automatically generated paths.</p></li>
</ul>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If this class is used as part of a project processing workflow, all of the arguments will be provided by the <code class="docutils literal notranslate"><span class="pre">Project</span></code> class based on the previous segmentation.
The Project class will automatically provide the most recent segmentation forward together with the supplied parameters.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># After project is initialized and input data has been loaded and segmented</span>
<span class="n">project</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The following parameters are required in the config file when running this method:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">HDF5CellExtraction</span><span class="p">:</span>

<span class="w">    </span><span class="nt">compression</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="w">    </span><span class="c1"># threads used in multithreading</span>
<span class="w">    </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>

<span class="w">    </span><span class="c1"># image size in pixels</span>
<span class="w">    </span><span class="nt">image_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">128</span>

<span class="w">    </span><span class="c1"># directory where intermediate results should be saved</span>
<span class="w">    </span><span class="nt">cache</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/mnt/temp/cache&quot;</span>

<span class="w">    </span><span class="c1"># specs to define how HDF5 data should be chunked and saved</span>
<span class="w">    </span><span class="nt">hdf5_rdcc_nbytes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5242880000</span><span class="w"> </span><span class="c1"># 5GB 1024 * 1024 * 5000</span>
<span class="w">    </span><span class="nt">hdf5_rdcc_w0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">hdf5_rdcc_nslots</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50000</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="classification">
<h2>classification<a class="headerlink" href="#classification" title="Link to this heading"></a></h2>
<section id="mlclusterclassifier">
<h3>MLClusterClassifier<a class="headerlink" href="#mlclusterclassifier" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.classification.</span></span><span class="sig-name descname"><span class="pre">MLClusterClassifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier" title="Link to this definition"></a></dt>
<dd><p>Class for classifying single cells using a pre-trained machine learning model.</p>
<p>This class takes a pre-trained model and uses it to classify single cells,
using the model’s forward function or encoder function, depending on the
user’s choice. The classification results are saved to a CSV file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier.config" title="Link to this definition"></a></dt>
<dd><p>Config file which is passed by the Project class when called. It is loaded from the project based on the name of the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier.directory">
<span class="sig-name descname"><span class="pre">directory</span></span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier.directory" title="Link to this definition"></a></dt>
<dd><p>Directory which should be used by the processing step. The directory will be newly created if it does not exist yet. When used with the <code class="xref py py-class docutils literal notranslate"><span class="pre">sparcscore.pipeline.project.Project</span></code> class, a subdirectory of the project directory is passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier.intermediate_output">
<span class="sig-name descname"><span class="pre">intermediate_output</span></span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier.intermediate_output" title="Link to this definition"></a></dt>
<dd><p>When set to True, intermediate outputs will be saved where applicable. Default is False.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier.debug" title="Link to this definition"></a></dt>
<dd><p>When set to True, debug outputs will be printed where applicable. Default is False.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier.overwrite">
<span class="sig-name descname"><span class="pre">overwrite</span></span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier.overwrite" title="Link to this definition"></a></dt>
<dd><p>When set to True, the processing step directory will be completely deleted and newly created when called. Default is False.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.MLClusterClassifier.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extraction_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accessory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_dataloader=&lt;class</span> <span class="pre">'scportrait.ml.datasets.HDF5SingleCellDataset'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accessory_dataloader=&lt;class</span> <span class="pre">'scportrait.ml.datasets.HDF5SingleCellDataset'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.MLClusterClassifier.__call__" title="Link to this definition"></a></dt>
<dd><p>Perform classification on the provided HDF5 dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extraction_dir</strong> (<em>str</em>) – Directory containing the extracted HDF5 files from the project. If this class is used as part of
a project processing workflow, this argument will be provided automatically.</p></li>
<li><p><strong>accessory</strong> (<em>list</em>) – List containing accessory datasets on which inference should be performed in addition to the cells
contained within the current project.</p></li>
<li><p><strong>size</strong> (<em>int</em><em>, </em><em>optional</em>) – How many cells should be selected for inference. Default is 0, which means all cells are selected.</p></li>
<li><p><strong>project_dataloader</strong> (<a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDataset" title="scportrait.ml.datasets.HDF5SingleCellDataset"><em>HDF5SingleCellDataset</em></a><em>, </em><em>optional</em>) – Dataloader for the project dataset. Default is HDF5SingleCellDataset.</p></li>
<li><p><strong>accessory_dataloader</strong> (<a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDataset" title="scportrait.ml.datasets.HDF5SingleCellDataset"><em>HDF5SingleCellDataset</em></a><em>, </em><em>optional</em>) – Dataloader for the accessory datasets. Default is HDF5SingleCellDataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Results are written to CSV files located in the project directory.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If this class is used as part of a project processing workflow, the first argument will be provided by the <code class="docutils literal notranslate"><span class="pre">Project</span></code>
class based on the previous single-cell extraction. Therefore, only the second and third arguments need to be provided.
The Project class will automatically provide the most recent extracted single-cell dataset together with the supplied parameters.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define accessory dataset: additional HDF5 datasets that you want to perform an inference on</span>
<span class="c1"># Leave empty if you only want to infer on all extracted cells in the current project</span>

<span class="n">accessory</span> <span class="o">=</span> <span class="p">([],</span> <span class="p">[],</span> <span class="p">[])</span>
<span class="n">project</span><span class="o">.</span><span class="n">classify</span><span class="p">(</span><span class="n">accessory</span><span class="o">=</span><span class="n">accessory</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The following parameters are required in the config file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">MLClusterClassifier</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Channel number on which the classification should be performed</span>
<span class="w">    </span><span class="nt">channel_classification</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="w">    </span><span class="c1"># Number of threads to use for dataloader</span>
<span class="w">    </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>
<span class="w">    </span><span class="nt">dataloader_worker_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>

<span class="w">    </span><span class="c1"># Batch size to pass to GPU</span>
<span class="w">    </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">900</span>

<span class="w">    </span><span class="c1"># Path to PyTorch checkpoint that should be used for inference</span>
<span class="w">    </span><span class="nt">network</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;path/to/model/&quot;</span>

<span class="w">    </span><span class="c1"># Classifier architecture implemented in scPortrait</span>
<span class="w">    </span><span class="c1"># Choose one of VGG1, VGG2, VGG1_old, VGG2_old</span>
<span class="w">    </span><span class="nt">classifier_architecture</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;VGG2_old&quot;</span>

<span class="w">    </span><span class="c1"># If more than one checkpoint is provided in the network directory, which checkpoint should be chosen</span>
<span class="w">    </span><span class="c1"># Should either be &quot;max&quot; or a numeric value indicating the epoch number</span>
<span class="w">    </span><span class="nt">epoch</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;max&quot;</span>

<span class="w">    </span><span class="c1"># Name of the classifier used for saving the classification results to a directory</span>
<span class="w">    </span><span class="nt">screen_label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Autophagy_15h_classifier1&quot;</span>

<span class="w">    </span><span class="c1"># List of which inference methods should be performed</span>
<span class="w">    </span><span class="c1"># Available: &quot;forward&quot; and &quot;encoder&quot;</span>
<span class="w">    </span><span class="c1"># If &quot;forward&quot;: images are passed through all layers of the model and the final inference results are written to file</span>
<span class="w">    </span><span class="c1"># If &quot;encoder&quot;: activations at the end of the CNN are written to file</span>
<span class="w">    </span><span class="nt">encoders</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;forward&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;encoder&quot;</span><span class="p p-Indicator">]</span>

<span class="w">    </span><span class="c1"># On which device inference should be performed</span>
<span class="w">    </span><span class="c1"># For speed, should be &quot;cuda&quot;</span>
<span class="w">    </span><span class="nt">inference_device</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cuda&quot;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="cellfeaturizer">
<h3>CellFeaturizer<a class="headerlink" href="#cellfeaturizer" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.CellFeaturizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.classification.</span></span><span class="sig-name descname"><span class="pre">CellFeaturizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.CellFeaturizer" title="Link to this definition"></a></dt>
<dd><p>Class for extracting general image features from SPARCS single-cell image datasets.
The extracted features are saved to a CSV file. The features are calculated on the basis of a specified channel.</p>
<p>The features which are calculated are:</p>
<ul class="simple">
<li><p>Area of the nucleus in pixels</p></li>
<li><p>Area of the cytosol in pixels</p></li>
<li><p>Mean intensity of the chosen channel</p></li>
<li><p>Median intensity of the chosen channel</p></li>
<li><p>75% quantile of the chosen channel</p></li>
<li><p>25% quantile of the chosen channel</p></li>
<li><p>Summed intensity of the chosen channel in the region labeled as nucleus</p></li>
<li><p>Summed intensity of the chosen channel in the region labeled as cytosol</p></li>
<li><p>Summed intensity of the chosen channel in the region labeled as nucleus normalized to the nucleus area</p></li>
<li><p>Summed intensity of the chosen channel in the region labeled as cytosol normalized to the cytosol area</p></li>
</ul>
<p>The features are outputted in this order in the CSV file.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.CellFeaturizer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extraction_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accessory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_dataloader=&lt;class</span> <span class="pre">'scportrait.ml.datasets.HDF5SingleCellDataset'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accessory_dataloader=&lt;class</span> <span class="pre">'scportrait.ml.datasets.HDF5SingleCellDataset'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.CellFeaturizer.__call__" title="Link to this definition"></a></dt>
<dd><p>Perform featurization on the provided HDF5 dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extraction_dir</strong> (<em>str</em>) – Directory containing the extracted HDF5 files from the project. If this class is used as part of a project processing workflow this argument will be provided automatically.</p></li>
<li><p><strong>accessory</strong> (<em>list</em>) – List containing accessory datasets on which inference should be performed in addition to the cells contained within the current project.</p></li>
<li><p><strong>size</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=0</em>) – How many cells should be selected for inference. Default is 0, meaning all cells are selected.</p></li>
<li><p><strong>project_dataloader</strong> (<a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDataset" title="scportrait.ml.datasets.HDF5SingleCellDataset"><em>HDF5SingleCellDataset</em></a><em>, </em><em>optional</em>) – Dataloader for the project dataset. Default is HDF5SingleCellDataset.</p></li>
<li><p><strong>accessory_dataloader</strong> (<a class="reference internal" href="ml.html#scportrait.ml.datasets.HDF5SingleCellDataset" title="scportrait.ml.datasets.HDF5SingleCellDataset"><em>HDF5SingleCellDataset</em></a><em>, </em><em>optional</em>) – Dataloader for the accessory datasets. Default is HDF5SingleCellDataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Results are written to CSV files located in the project directory.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If this class is used as part of a project processing workflow, the first argument will be provided by the <code class="docutils literal notranslate"><span class="pre">Project</span></code> class based on the previous single-cell extraction. Therefore, only the second and third argument need to be provided. The Project class will automatically provide the most recent extraction results together with the supplied parameters.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define accessory dataset: additional HDF5 datasets that you want to perform an inference on</span>
<span class="c1"># Leave empty if you only want to infer on all extracted cells in the current project</span>

<span class="n">accessory</span> <span class="o">=</span> <span class="p">([],</span> <span class="p">[],</span> <span class="p">[])</span>
<span class="n">project</span><span class="o">.</span><span class="n">classify</span><span class="p">(</span><span class="n">accessory</span><span class="o">=</span><span class="n">accessory</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>The following parameters are required in the config file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">CellFeaturizer</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># Channel number on which the featurization should be performed</span>
<span class="w">    </span><span class="nt">channel_classification</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>

<span class="w">    </span><span class="c1"># Number of threads to use for dataloader</span>
<span class="w">    </span><span class="nt">dataloader_worker_number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"> </span><span class="c1"># needs to be 0 if using CPU</span>

<span class="w">    </span><span class="c1"># Batch size to pass to GPU</span>
<span class="w">    </span><span class="nt">batch_size</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">900</span>

<span class="w">    </span><span class="c1"># On which device inference should be performed</span>
<span class="w">    </span><span class="c1"># For speed should be &quot;cuda&quot;</span>
<span class="w">    </span><span class="nt">inference_device</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cpu&quot;</span>

<span class="w">    </span><span class="c1"># Label under which the results should be saved</span>
<span class="w">    </span><span class="nt">screen_label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ch3_Featurization&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.CellFeaturizer.is_Int">
<span class="sig-name descname"><span class="pre">is_Int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.CellFeaturizer.is_Int" title="Link to this definition"></a></dt>
<dd><p>Check if a string represents an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em>) – String to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the string represents an integer, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.CellFeaturizer.calculate_statistics">
<span class="sig-name descname"><span class="pre">calculate_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.CellFeaturizer.calculate_statistics" title="Link to this definition"></a></dt>
<dd><p>Calculate statistics for an image batch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>torch.Tensor</em>) – Tensor containing the image batch.</p></li>
<li><p><strong>channel</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>default=-1</em>) – Channel to calculate statistics over.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tensor containing the calculated statistics.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.classification.CellFeaturizer.inference">
<span class="sig-name descname"><span class="pre">inference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataloader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.classification.CellFeaturizer.inference" title="Link to this definition"></a></dt>
<dd><p>Perform inference for a dataloader and save the results to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataloader</strong> (<em>torch.utils.data.DataLoader</em>) – Dataloader to perform inference on.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="selection">
<h2>selection<a class="headerlink" href="#selection" title="Link to this heading"></a></h2>
<section id="lmdselection">
<h3>LMDSelection<a class="headerlink" href="#lmdselection" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="scportrait.pipeline.selection.LMDSelection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scportrait.pipeline.selection.</span></span><span class="sig-name descname"><span class="pre">LMDSelection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.selection.LMDSelection" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#scportrait.pipeline.base.ProcessingStep" title="scportrait.pipeline.base.ProcessingStep"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProcessingStep</span></code></a></p>
<p>Select single cells from a segmented hdf5 file and generate cutting data for the Leica LMD microscope.
This method class relies on the functionality of the pylmd library.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scportrait.pipeline.selection.LMDSelection.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hdf_location</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_sets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calibration_marker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#scportrait.pipeline.selection.LMDSelection.process" title="Link to this definition"></a></dt>
<dd><p>Process function for selecting cells and generating their XML.
Under the hood this method relies on the pylmd library and utilizies its <cite>SegmentationLoader</cite> Class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdf_location</strong> (<em>str</em>) – Path of the segmentation hdf5 file. If this class is used as part of a project processing workflow, this argument will be provided.</p></li>
<li><p><strong>cell_sets</strong> (<em>list</em><em> of </em><em>dict</em>) – List of dictionaries containing the sets of cells which should be sorted into a single well.</p></li>
<li><p><strong>calibration_marker</strong> (<em>numpy.array</em>) – Array of size ‘(3,2)’ containing the calibration marker coordinates in the ‘(row, column)’ format.</p></li>
</ul>
</dd>
</dl>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If this class is used as part of a project processing workflow, the first argument will be provided by the <code class="docutils literal notranslate"><span class="pre">Project</span></code>
class based on the previous segmentation. Therefore, only the second and third argument need to be provided. The Project
class will automaticly provide the most recent segmentation forward together with the supplied parameters.</p>
</div>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calibration marker should be defined as (row, column).</span>
<span class="n">marker_0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">])</span>
<span class="n">marker_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">1100</span><span class="p">])</span>
<span class="n">marker_2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1100</span><span class="p">,</span><span class="mi">505</span><span class="p">])</span>

<span class="c1"># A numpy Array of shape (3, 2) should be passed.</span>
<span class="n">calibration_marker</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">marker_0</span><span class="p">,</span> <span class="n">marker_1</span><span class="p">,</span> <span class="n">marker_2</span><span class="p">])</span>


<span class="c1"># Sets of cells can be defined by providing a name and a list of classes in a dictionary.</span>
<span class="n">cells_to_select</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;dataset1&quot;</span><span class="p">,</span> <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]}]</span>

<span class="c1"># Alternatively, a path to a csv file can be provided.</span>
<span class="c1"># If a relative path is provided, it is accessed relativ to the projects base directory.</span>
<span class="n">cells_to_select</span> <span class="o">+=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;dataset2&quot;</span><span class="p">,</span> <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="s2">&quot;segmentation/class_subset.csv&quot;</span><span class="p">}]</span>

<span class="c1"># If desired, wells can be passed with the individual sets.</span>
<span class="n">cells_to_select</span> <span class="o">+=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;dataset3&quot;</span><span class="p">,</span> <span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span> <span class="s2">&quot;well&quot;</span><span class="p">:</span><span class="s2">&quot;A1&quot;</span><span class="p">}]</span>

<span class="n">project</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">cells_to_select</span><span class="p">,</span> <span class="n">calibration_marker</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following parameters are required in the config file:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">LMDSelection</span><span class="p">:</span>
<span class="w">    </span><span class="c1">#the number of threads with which multithreaded tasks should be executed</span>
<span class="w">    </span><span class="nt">threads</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="w">    </span><span class="c1"># the number of parallel processes to use for generation of cell sets each set</span>
<span class="w">    </span><span class="c1"># will processed with the designated number of threads</span>
<span class="w">    </span><span class="nt">processes_cell_sets</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>

<span class="w">    </span><span class="c1"># defines the channel used for generating cutting masks</span>
<span class="w">    </span><span class="c1"># segmentation.hdf5 =&gt; labels =&gt; segmentation_channel</span>
<span class="w">    </span><span class="c1"># When using WGA segmentation:</span>
<span class="w">    </span><span class="c1">#    0 corresponds to nuclear masks</span>
<span class="w">    </span><span class="c1">#    1 corresponds to cytosolic masks.</span>
<span class="w">    </span><span class="nt">segmentation_channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>

<span class="w">    </span><span class="c1"># dilation of the cutting mask in pixel</span>
<span class="w">    </span><span class="nt">shape_dilation</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="w">    </span><span class="c1"># Cutting masks are transformed by binary dilation and erosion</span>
<span class="w">    </span><span class="nt">binary_smoothing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>

<span class="w">    </span><span class="c1"># number of datapoints which are averaged for smoothing</span>
<span class="w">    </span><span class="c1"># the number of datapoints over an distance of n pixel is 2*n</span>
<span class="w">    </span><span class="nt">convolution_smoothing</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">25</span>

<span class="w">    </span><span class="c1"># fold reduction of datapoints for compression</span>
<span class="w">    </span><span class="nt">poly_compression_factor</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>

<span class="w">    </span><span class="c1"># Optimization of the cutting path inbetween shapes</span>
<span class="w">    </span><span class="c1"># optimized paths improve the cutting time and the microscopes focus</span>
<span class="w">    </span><span class="c1"># valid options are [&quot;none&quot;, &quot;hilbert&quot;, &quot;greedy&quot;]</span>
<span class="w">    </span><span class="nt">path_optimization</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;hilbert&quot;</span>

<span class="w">    </span><span class="c1"># Paramter required for hilbert curve based path optimization.</span>
<span class="w">    </span><span class="c1"># Defines the order of the hilbert curve used, which needs to be tuned with the total cutting area.</span>
<span class="w">    </span><span class="c1"># For areas of 1 x 1 mm we recommend at least p = 4,  for whole slides we recommend p = 7.</span>
<span class="w">    </span><span class="nt">hilbert_p</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>

<span class="w">    </span><span class="c1"># Parameter required for greedy path optimization.</span>
<span class="w">    </span><span class="c1"># Instead of a global distance matrix, the k nearest neighbours are approximated.</span>
<span class="w">    </span><span class="c1"># The optimization problem is then greedily solved for the known set of nearest neighbours until the first set of neighbours is exhausted.</span>
<span class="w">    </span><span class="c1"># Established edges are then removed and the nearest neighbour approximation is recursivly repeated.</span>
<span class="w">    </span><span class="nt">greedy_k</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>

<span class="w">    </span><span class="c1"># The LMD reads coordinates as integers which leads to rounding of decimal places.</span>
<span class="w">    </span><span class="c1"># Points spread between two whole coordinates are therefore collapsed to whole coordinates.</span>
<span class="w">    </span><span class="c1"># This can be mitigated by scaling the entire coordinate system by a defined factor.</span>
<span class="w">    </span><span class="c1"># For a resolution of 0.6 um / px a factor of 100 is recommended.</span>
<span class="w">    </span><span class="nt">xml_decimal_transform</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>

<span class="w">    </span><span class="c1"># Overlapping shapes are merged based on a nearest neighbour heuristic.</span>
<span class="w">    </span><span class="c1"># All selected shapes closer than distance_heuristic pixel are checked for overlap.</span>
<span class="w">    </span><span class="nt">distance_heuristic</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="processing.html" class="btn btn-neutral float-left" title="processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ml.html" class="btn btn-neutral float-right" title="ml" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 Sophia Mädler and Niklas Schmacke.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>